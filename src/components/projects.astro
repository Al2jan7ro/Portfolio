<section class="mt-20">

 <div class="flex flex-row justify-between gap-4 px-4 sm:px-8 md:px-16 lg:px-20">
    <h2 id="projcts-title"
      class="text-[1.8rem] sm:text-[2.2rem] md:text-[2.5rem] font-BB text-lef">
     Projects.
    </h2>
    
      <a href="/projects"
        id="projcts-btn"
        class="flex items-center justify-center 
              text-[1.1rem] sm:text-[1.3rem] lg:text-[1.2rem] 
              px-4 py-2 sm:px-5 sm:py-3 
              bg-black/10 tracking-normal font-Cg2 cursor-none 
              hover:bg-black hover:text-white 
              transition-colors rounded-xl 
              leading-none"
        >
        Show more
      </a>
    </div>
  

  <!-- Grid de Proyectos -->
  <div 
    id="projects-grid"
    class="grid grid-cols-1 sm:grid-cols-2 gap-6 px-4 sm:px-8 md:px-16 lg:px-20 sm:gap-8 mt-10 mb-20"
  >
    <!-- Psico App -->
    <a href="/work/psico" class="group">
      <div class="imagebg w-full rounded-3xl h-[250px] sm:h-[350px] md:h-[400px] lg:h-[500px] relative overflow-hidden cursor-none">
        
        <img src="/assets/Psico.webp" alt="Sistema de psicología realizado como proyecto para una psicologa en la Universidad UNEFA" 
             class="absolute inset-0 w-full h-full object-cover transition-transform 
             duration-700 group-hover:scale-105" />

        <!-- Overlay -->
        <div class="absolute inset-0 bg-black/70 lg:bg-black/50 lg:group-hover:bg-black/70 transition-colors duration-700"></div>
        
        <!-- Contenido -->
        <div class="absolute inset-0 flex flex-col items-center justify-center
                    opacity-100 lg:opacity-0 group-hover:opacity-100 transition-opacity duration-700
                    text-center p-4">
          <span class="text-white text-[2rem] sm:text-2xl md:text-[3rem] font-Cg2">
            Sistema de Psicología
          </span>
          <p class="text-white text-sm sm:text-base lg:hidden mt-2">
            Pulsar para ver
          </p>
        </div>
      </div>
    </a>

    <!-- Reportes Web -->
    <a href="work/reports" class="group">
      <div class="imagebg w-full rounded-3xl h-[250px] sm:h-[350px] md:h-[400px] lg:h-[500px] relative overflow-hidden cursor-none">
        
        <img src="/assets/Reportes.webp" alt="Sistema de Reportes para la empresa de Lácteos los Andes, Planta Cabudare, Barquisimeto - Venezuela"
             class="absolute inset-0 w-full h-full object-cover 
             transition-transform duration-700 group-hover:scale-105" />

        <div class="absolute inset-0 bg-black/70 lg:bg-black/50 lg:group-hover:bg-black/70 transition-colors duration-700"></div>
        <div class="absolute inset-0 flex flex-col items-center justify-center
                    opacity-100 lg:opacity-0 group-hover:opacity-100 transition-opacity duration-700
                    text-center p-4">
          <span class="text-white text-[2rem] sm:text-2xl md:text-[3rem] font-Cg2">
            Sistema de Reportes
          </span>
          <p class="text-white text-sm sm:text-base lg:hidden mt-2">
            Pulsar para ver
          </p>
        </div>
      </div>
    </a>

    <!-- Landing Page -->
    <a href="work/landing" class="group">
      <div class="imagebg w-full rounded-3xl h-[250px] sm:h-[350px] md:h-[400px] lg:h-[500px] relative overflow-hidden cursor-none">
        
        <img src="/assets/Landing.webp" alt="Landing Page para el departamento de sistemas de Lactéos los andes,
            planta-cabudare, Estado lara - Venezuela" 
             class="absolute inset-0 w-full h-full object-cover transition-transform
              duration-700 group-hover:scale-105" />

        <div class="absolute inset-0 bg-black/70 lg:bg-black/50 lg:group-hover:bg-black/70 transition-colors duration-700"></div>
        <div class="absolute inset-0 flex flex-col items-center justify-center
                    opacity-100 lg:opacity-0 group-hover:opacity-100 transition-opacity duration-700
                    text-center p-4">
          <span class="text-white text-[2rem] sm:text-2xl md:text-[3rem] font-Cg2">
            Landing Page (Lácteos los Andes)
          </span>
          <p class="text-white text-sm sm:text-base lg:hidden mt-2">
            Pulsar para ver
          </p>
        </div>
      </div>
    </a>

    <!-- Blog Personal -->
    <a href="work/blog" class="group">
      <div class="imagebg w-full rounded-3xl h-[250px] sm:h-[350px] md:h-[400px] lg:h-[500px] relative overflow-hidden cursor-none">
        
        <img src="/assets/blog.webp" alt="Blog informativo para la comunidad la california Realizado con Wordpress y DiVI
            - Barquisimeto, Venezuela" 
             class="absolute inset-0 w-full h-full object-cover transition-transform 
             duration-700 group-hover:scale-105" />

        <div class="absolute inset-0 bg-black/70 lg:bg-black/50 lg:group-hover:bg-black/70 transition-colors duration-700"></div>
        <div class="absolute inset-0 flex flex-col items-center justify-center
                    opacity-100 lg:opacity-0 group-hover:opacity-100 transition-opacity duration-700
                    text-center p-4">
          <span class="text-white text-[2rem] sm:text-2xl md:text-[3rem] font-Cg2">
            Blog La California
          </span>
          <p class="text-white text-sm sm:text-base lg:hidden mt-2">
            Pulsar para ver
          </p>
        </div>
      </div>
    </a>
  </div>
</section>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";
  import { SplitText } from "gsap/SplitText";

  gsap.registerPlugin(ScrollTrigger, SplitText);

  document.addEventListener("astro:page-load", () => {
    let ctx = gsap.context(() => {

       document.fonts.ready.then(() => {
      // Título con SplitText (más vistoso)
      const splitTitle = new SplitText("#projcts-title", { type: "words" });
      gsap.from(splitTitle.words, {
        y: 50,
        opacity: 0,
        duration: 0.6,
        ease: "power3.out",
        stagger: 0.1,
        scrollTrigger: {
          trigger: "#projcts-title",
          start: "top 80%",
          once: true,
        },
      });
   });
      // Botón Show More (independiente, sin margen residual)
      gsap.from("#projcts-btn", {
        x: 60,
        opacity: 0,
        duration: 0.8,
        ease: "power3.out",
        scrollTrigger: {
          trigger: "#projcts-btn",
          start: "top 80%",
          once: true,
        },
      });

      // Grid de Proyectos (fade + slide up)
      gsap.from("#projects-grid", {
        y: 100,
        opacity: 0,
        duration: 1.2,
        ease: "power3.out",
        scrollTrigger: {
          trigger: "#projects-grid",
          start: "top 90%",
          once: true,
        },
      });

    });

    // Limpieza al cambiar de página (evita transforms residuales)
    document.addEventListener("astro:before-swap", () => ctx.revert(), { once: true });
  });
</script>
